{% extends "layouts/base.html" %}

{% block title %} ChartsJS {% endblock %} 

<!-- Element injected in the BODY element -->
{% block body_class %} sidebar-mini {% endblock body_class %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="/static/assets/plugins/fontawesome-free/css/all.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="/static/assets/css/adminlte.min.css">

{% endblock stylesheets %}

{% block content %}

  <div class="content-wrapper">

    <!-- Content Header (Page header) -->
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-3">
          <div class="col-sm-6">
            <h1>SENTIMENT ANALYSIS</h1>
          </div>
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="#">Home</a></li>
            </ol>
          </div>
        </div>
      </div><!-- /.container-fluid -->
    </section>
<!-- head cards-->
<section class="content">
  <div class="container-fluid">
    <!-- Info boxes -->
    <div class="row">
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box">
          <span class="info-box-icon bg-info elevation-1"><i class="fas fa-cog"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Total Impressions</span>
            <span class="info-box-number">
              10
              <small>%</small>
            </span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
      <div class="col-12 col-sm-6 col-md-3">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-danger elevation-1"><i class="fas fa-thumbs-up"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">Number of Mentions</span>
            <span class="info-box-number">41,410</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->

      <!-- fix for small devices only -->
      <div class="clearfix hidden-md-up"></div>

      <div class="col-12 col-sm-6 col-md-6">
        <div class="info-box mb-3">
          <span class="info-box-icon bg-success elevation-1"><i class="fas fa-shopping-cart"></i></span>

          <div class="info-box-content">
            <span class="info-box-text">no. of site traffic comes from referral links</span>
            <span class="info-box-number">760</span>
          </div>
          <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
      </div>
      <!-- /.col -->
     
      <!-- /.col -->
    </div>
    <!-- /.row -->
    
<!-- head cards end-->
    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-6">
            <!-- STACKED BAR CHART -->
            <div class="card card-success">
              <div class="card-header">
                <h3 class="card-title">Sentiment ratio by channel</h3>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="chart1" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            <!-- AREA CHART -->
            <div class="card card-primary">
              <div class="card-header">
                <h3 class="card-title">Sources</h3>

                <div class="card-tools">
                  
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="myChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            <!-- DONUT CHART -->
            <div class="card card-danger">
              <div class="card-header">
                <h3 class="card-title">Sentiment ratio by channel</h3>

                <div class="card-tools">
                </div>
              </div>
              <div class="card-body">
                <canvas id="myChartArea" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            

          </div>
          <!-- /.col (LEFT) -->
          <div class="col-md-6">
            <!-- Donut CHART -->
            <div class="card card-info">
              <div class="card-header">
                <h3 class="card-title">Positive - Negative Sentiment Ratio</h3>

                <div class="card-tools">
                  
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="donutChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            <!-- BAR CHART -->
            <div class="card card-success">
              <div class="card-header">
                <h3 class="card-title">Reach Over Time</h3>

                <div class="card-tools">
                </div>
              </div>
              <div class="card-body">
                <div class="chart">
                  <canvas id="speedChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
            <!-- /.card -->

            

          </div>
          <!-- /.col (RIGHT) -->
        </div>
        <!-- /.row -->
      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->

  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <!-- jQuery -->
  <script src="/static/assets/plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="/static/assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- ChartJS -->
  <script src="/static/assets/plugins/chart.js/Chart.min.js"></script>
  <!-- AdminLTE App -->
  <script src="/static/assets/js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="/static/assets/js/demo.js"></script>
  <!-- page script -->
  <script>
    //STACKED BAR CHART for Sentiment ratio by channel
    var ctx = document.getElementById('chart1');
    var myChart = new Chart(ctx, {
      type: 'bar',
      type: 'horizontalBar',
      data: {
        labels: ['Facebook', 'Instagram', 'Linkedin', 'Twiter', 'Web'],
        datasets: [
          {
            label: 'Positive',
            data: [42, 5, 1, 0, 9],
            backgroundColor: 'rgba(57, 172, 73, 1)',
          },
          {
            label: 'Neutral',
            data: [22, 1, 2, 0, 1],
            backgroundColor: 'rgba(98, 91, 91, 1)',
          },
          {
            label: 'Negative',
            data: [4, 1, 0, 0, 0],
            backgroundColor: 'rgba(180, 8, 8, 1)',
          }
        ]
      },
      options: {
        scales: {
          xAxes: [{ stacked: true }],
          yAxes: [{ stacked: true }]
        }
      }
    });
    // End of Sentiment ratio by channel

    //-------------
      //- DONUT CHART - Positive - Negative Sentiment Ratio
      //-------------
      // Get context with jQuery - using jQuery's .get() method.
      var donutChartCanvas = $('#donutChart').get(0).getContext('2d')
      var donutData        = {
        labels: [
            'Positive',
            'Neutral',
            'Negative',
        ],
        datasets: [
          {
            data: [26,5,0],
            backgroundColor : ['rgba(57, 172, 73, 1)', 'rgba(98, 91, 91, 1)', 'rgba(180, 8, 8, 1)'],
          }
        ]
      }
      var donutOptions     = {
        maintainAspectRatio : false,
        responsive : true,
      }
      //Create pie or douhnut chart
      // You can switch between pie and douhnut using the method below.
      var donutChart = new Chart(donutChartCanvas, {
        type: 'doughnut',
        data: donutData,
        options: donutOptions
      })

      // End of Donut chart - Positive - Negative Sentiment Ratio

      //Pie Chart
      $(function() {
        var ctx = $("#myChart").get(0).getContext("2d");

        var data = {
            datasets: [{
                data: [12, 72, 7, 3, 5],
                backgroundColor: ["#AED6F1", "#5DADE2", "#3498DB", "#2E86C1", "#1B4F72"],
                //hoverBackgroundColor: ["lightskyblue", "yellow", "darkorange"]
            }],
            labels: ["Web", "Facebook", "Instagram", "Twitter", "LinkedIN"]
        };

        var piechart = new Chart(ctx, {
            type: 'pie',
            data: data
        });
      });

      // End of Pie Chart

      // Line Chart - Reach Over Time

      var speedCanvas = document.getElementById("speedChart");

        Chart.defaults.global.defaultFontFamily = "Lato";
        Chart.defaults.global.defaultFontSize = 18;

        var data_web = {
            label: "reach",
            data: ['3037', '43986', '49487', '5500', '93458', '9099', '5500', '93', '0', '53584', '0', '58492', '50593', '8805', '1131', '0', '60164', '8909', '380', '335', '6163', '0', '0', '65497', '50133', '71539', '95228', '91710', '33461', '233779', '293621'],
            lineTension: 0,
            fill: false,
            borderColor: "#AED6F1"
          };

        var speedData = {
          labels: ['2020-08-16', '2020-08-15', '2020-08-14', '2020-08-13', '2020-08-12', '2020-08-11', '2020-08-10', '2020-08-09', '2020-08-08', '2020-08-07', '2020-08-06', '2020-08-05', '2020-08-04', '2020-08-03', '2020-08-02', '2020-08-01', '2020-07-31', '2020-07-30', '2020-07-29', '2020-07-28', '2020-07-27', '2020-07-26', '2020-07-25', '2020-07-24', '2020-07-23', '2020-07-22', '2020-07-21', '2020-07-20', '2020-07-19', '2020-07-18', '2020-07-17'],
          datasets: [data_web]
        };

        var chartOptions = {
          legend: {
            display: true,
            position: 'top',
            labels: {
              boxWidth: 80,
              fontColor: 'black'
            }
          }
        };

        var lineChart = new Chart(speedCanvas, {
          type: 'line',
          data: speedData,
          options: chartOptions
        }); 
      // End of Line Chart - Reach Over Time 

      // Area Chart 
      var ctx = document.getElementById("myChartArea").getContext("2d");

      const colors = {
        green: {
          fill: '#e0eadf',
          stroke: '#5eb84d',
        },
        lightBlue: {
          stroke: '#6fccdd',
        },
        darkBlue: {
          fill: '#92bed2',
          stroke: '#3282bf',
        },
        purple: {
          fill: '#8fa8c8',
          stroke: '#75539e',
        },
      };

      const x = [7, 56, 15, 0, 2, 2];
      const y = [0, 0, 0, 180, 175, 0];
      const z = [0, 0, 135, 0, 0, 0];
      const xData = [13, 14, 15, 16, 17, 18, 19, 20];

      const myChartArea = new Chart(ctx, {
        type: 'line',
        data: {
          labels: xData,
          datasets: [{
            label: "X",
            fill: true,
            backgroundColor: "rgba(255, 0, 0, 0.1)",
            pointBackgroundColor: colors.purple.stroke,
            borderColor: colors.purple.stroke,
            pointHighlightStroke: colors.purple.stroke,
            borderCapStyle: 'butt',
            borderWidth: 1,
            pointRadius: 0,

            data: x,

          }, {
            label: "Y",
            fill: true,
            backgroundColor: "rgba(0, 255, 0, 0.1)",
            pointBackgroundColor: colors.darkBlue.stroke,
            borderColor: colors.darkBlue.stroke,
            pointHighlightStroke: colors.darkBlue.stroke,
            borderCapStyle: 'butt',
            borderWidth: 1,
            pointRadius: 0,

            data: y,
          }, {
            label: "Z",
            fill: true,
            backgroundColor: "rgba(0, 0, 255, 0.1)",
            pointBackgroundColor: colors.lightBlue.stroke,
            borderColor: colors.lightBlue.stroke,
            pointHighlightStroke: colors.lightBlue.stroke,
            borderCapStyle: 'butt',
            borderWidth: 1,
            pointRadius: 0,


            data: z,
          }]
        },
        options: {
          responsive: false,
          // Can't just just `stacked: true` like the docs say
          scales: {
            yAxes: [{
              stacked: true,
            }]
          },
          animation: {
            duration: 750,
          },
        }
      });




      // End of Are Chart

      
    
  </script>

{% endblock javascripts %}
